<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/sanshuo/newstationequipment/electricCylinder/activity/ElectricCylinderActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/sanshuo/newstationequipment/electricCylinder/activity/ElectricCylinderActivity.kt" />
              <option name="originalContent" value="package com.sanshuo.newstationequipment.electricCylinder.activity&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.interaction.MutableInteractionSource&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxHeight&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.lazy.grid.GridCells&#10;import androidx.compose.foundation.lazy.grid.LazyHorizontalGrid&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.livedata.observeAsState // 补回 LiveData 适配的扩展导入&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.paint&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.lifecycle.ViewModelProvider&#10;import androidx.lifecycle.lifecycleScope&#10;import com.google.accompanist.systemuicontroller.rememberSystemUiController&#10;import com.hx.baselibrary.base.convertSize&#10;import com.sanshuo.newstationequipment.R&#10;import com.sanshuo.newstationequipment.commonComponents.UserInfos&#10;import com.sanshuo.newstationequipment.electricCylinder.data.ElectricCylinderConfig&#10;import com.sanshuo.newstationequipment.electricCylinder.data.ElectricCylinderModelType&#10;import com.sanshuo.newstationequipment.electricCylinder.viewmodel.ElectricCylinderViewModel&#10;import com.sanshuo.newstationequipment.health_equipment.activity.BaseAppActivity&#10;import com.sanshuo.newstationequipment.health_equipment.activity.MainActivity&#10;import com.sanshuo.newstationequipment.health_equipment.components.BackButtonView&#10;import com.sanshuo.newstationequipment.health_equipment.components.MaterialButton&#10;import com.sanshuo.newstationequipment.health_equipment.components.SetSportPlanPlaceHoldeView&#10;import com.sanshuo.newstationequipment.health_equipment.components.SetStartExercisingPlaceHolderView&#10;import com.sanshuo.newstationequipment.health_equipment.components.StatusBar&#10;import com.sanshuo.newstationequipment.health_equipment.components.cresteSportsPlanView&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.SportPlansType&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.SportsPlanViewModel&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.StartExercisViewModel&#10;import com.sanshuo.newstationequipment.rhythm.components.ElectricCylinderHomeFunctionItem&#10;import com.sanshuo.newstationequipment.utils.ToneGeneratorUtils&#10;import kotlinx.coroutines.Dispatchers&#10;import kotlinx.coroutines.launch&#10;&#10;/**&#10; * 电缸设备的activity&#10; */&#10;class ElectricCylinderActivity : BaseAppActivity() {&#10;    val viewModel by lazy { ViewModelProvider(this)[ElectricCylinderViewModel::class.java] }&#10;    private var refreshData by mutableStateOf(false)&#10;    private val sportsPlanViewModel by lazy { ViewModelProvider(this)[SportsPlanViewModel::class.java] }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContent {&#10;            rememberSystemUiController().setStatusBarColor(Color.Transparent)&#10;            rememberSystemUiController().isStatusBarVisible = false&#10;            Box(modifier = Modifier) { InfoView() }&#10;            // 加载弹框数据&#10;            loadAlertViewAction()&#10;        }&#10;    }&#10;&#10;    // 改变当前现实的view&#10;    private fun changeView(&#10;        type: ElectricCylinderModelType.ElectricCylinderModelTypeEnum&#10;    ) {&#10;        when (type) {&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumBiaozhun -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeBiaozhun.type&#10;                    )&#10;                )&#10;            }&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumDengzu -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeDengzu.type&#10;                    )&#10;                )&#10;            }&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumDengsu -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeDengsu.type&#10;                    )&#10;                )&#10;            }&#10;            else -&gt; { /* 预留扩展 */ }&#10;        }&#10;    }&#10;&#10;    // 抽取解析 typeMenu 的函数&#10;    private fun parseTypeMenu(menu: String?): List&lt;Int&gt; {&#10;        if (menu.isNullOrBlank()) return emptyList()&#10;        return menu.split(',')&#10;            .map { it.trim() }&#10;            .filter { it.isNotEmpty() }&#10;            .mapNotNull { code -&gt;&#10;                when (code) {&#10;                    &quot;1&quot; -&gt; 0&#10;                    &quot;2&quot; -&gt; 1&#10;                    &quot;3&quot; -&gt; 2&#10;                    else -&gt; null&#10;                }&#10;            }&#10;            .distinct() // 去重&#10;            .filter { it in ElectricCylinderConfig.electricCylinderTypeList.indices } // 最终安全过滤&#10;    }&#10;&#10;    // 主页&#10;    @Composable&#10;    private fun InfoView() {&#10;        Box {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxHeight()&#10;                    .fillMaxWidth()&#10;                    .paint(&#10;                        painter = painterResource(id = R.mipmap.ic_main_bg),&#10;                        contentScale = ContentScale.FillBounds&#10;                    )&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(201.convertSize())&#10;                        .paint(&#10;                            painter = painterResource(id = R.mipmap.ic_main_people_info),&#10;                            contentScale = ContentScale.FillWidth&#10;                        )&#10;                ) {&#10;                    StatusBar(Color.Black)&#10;                    UserInfos(&#10;                        vm = vm,&#10;                        activity = this@ElectricCylinderActivity,&#10;                        refreshData = refreshData&#10;                    )&#10;                }&#10;                // 根据 typeMenu 动态展示按钮&#10;                val typeMenu by viewModel.typeMenu&#10;                val visibleIndices = remember(typeMenu) { parseTypeMenu(typeMenu) }&#10;                if (visibleIndices.isNotEmpty()) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .align(Alignment.CenterHorizontally)&#10;                    ) {&#10;                        LazyHorizontalGrid(&#10;                            modifier = Modifier&#10;                                .align(Alignment.Center)&#10;                                .padding(top = 67.convertSize())&#10;                                .height(268.convertSize()),&#10;                            horizontalArrangement = Arrangement.spacedBy(25.convertSize()),&#10;                            rows = GridCells.Fixed(1),&#10;                            content = {&#10;                                items(visibleIndices.size) { idx -&gt;&#10;                                    val actualIndex = visibleIndices[idx]&#10;                                    ElectricCylinderHomeFunctionItem(&#10;                                        type = ElectricCylinderConfig.electricCylinderTypeList[actualIndex],&#10;                                        modifier = Modifier&#10;                                            .width(217.convertSize())&#10;                                            .height(268.convertSize()),&#10;                                    ) {&#10;                                        changeView(ElectricCylinderConfig.electricCylinderTypeList[actualIndex])&#10;                                        viewModel.electricCylinderModelType.postValue(&#10;                                            ElectricCylinderConfig.electricCylinderTypeList[actualIndex]&#10;                                        )&#10;                                    }&#10;                                }&#10;                            }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;            MaterialButton(&#10;                type = &quot;normal&quot;,&#10;                text = stringResource(id = R.string.view_training_plan),&#10;                modifier = Modifier&#10;                    .padding(bottom = 33.convertSize())&#10;                    .width(243.convertSize())&#10;                    .height(64.convertSize())&#10;                    .align(Alignment.BottomCenter),&#10;                clickAction = {&#10;                    refreshData = !refreshData&#10;                    ToneGeneratorUtils.getInstance().playDi()&#10;                    if (sportsPlanViewModel.planList.value.isNullOrEmpty()) {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypePlaceHolder)&#10;                    } else {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNormal)&#10;                    }&#10;                }&#10;            )&#10;            BackButtonView(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomStart)&#10;                    .padding(start = 32.convertSize(), bottom = 32.convertSize())&#10;                    .clickable(&#10;                        interactionSource = remember { MutableInteractionSource() },&#10;                        indication = null,&#10;                    ) {&#10;                        ToneGeneratorUtils.getInstance().playDi()&#10;                        startActivity(Intent(this@ElectricCylinderActivity, MainActivity::class.java))&#10;                        finish()&#10;                    }&#10;            )&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    private fun loadAlertViewAction() {&#10;        LaunchedEffect(key1 = refreshData) {&#10;            lifecycleScope.launch(Dispatchers.IO) {&#10;                sportsPlanViewModel.getSportPlanData(vm)&#10;            }&#10;        }&#10;        when (val type = sportsPlanViewModel.type.observeAsState().value) {&#10;            SportPlansType.SportPlansTypeNormal -&gt; {&#10;                cresteSportsPlanView(sportsPlanViewModel)&#10;            }&#10;            SportPlansType.SportPlansTypeCountdown -&gt; {&#10;                val model = ViewModelProvider(this)[StartExercisViewModel::class.java]&#10;                SetStartExercisingPlaceHolderView(model, sportsPlanViewModel)&#10;                model.startTimer {&#10;                    if (it == 0) {&#10;                        changeView(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        viewModel.electricCylinderModelType.postValue(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                    }&#10;                }&#10;            }&#10;            SportPlansType.SportPlansTypePlaceHolder -&gt; {&#10;                SetSportPlanPlaceHoldeView(&#10;                    clickAction = {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                        if (it == &quot;normal&quot;) {&#10;                            changeView(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                            viewModel.electricCylinderModelType.postValue(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        }&#10;                    },&#10;                    backAction = {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                    }&#10;                )&#10;            }&#10;            else -&gt; { /* 无需要显示的弹框 */ }&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.sanshuo.newstationequipment.electricCylinder.activity&#10;&#10;import android.content.Intent&#10;import android.os.Bundle&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.interaction.MutableInteractionSource&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxHeight&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.width&#10;import androidx.compose.foundation.lazy.grid.GridCells&#10;import androidx.compose.foundation.lazy.grid.LazyHorizontalGrid&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.livedata.observeAsState // 补回 LiveData 适配的扩展导入&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.paint&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.res.stringResource&#10;import androidx.lifecycle.ViewModelProvider&#10;import androidx.lifecycle.lifecycleScope&#10;import com.google.accompanist.systemuicontroller.rememberSystemUiController&#10;import com.hx.baselibrary.base.convertSize&#10;import com.sanshuo.newstationequipment.R&#10;import com.sanshuo.newstationequipment.commonComponents.UserInfos&#10;import com.sanshuo.newstationequipment.electricCylinder.data.ElectricCylinderConfig&#10;import com.sanshuo.newstationequipment.electricCylinder.data.ElectricCylinderModelType&#10;import com.sanshuo.newstationequipment.electricCylinder.viewmodel.ElectricCylinderViewModel&#10;import com.sanshuo.newstationequipment.health_equipment.activity.BaseAppActivity&#10;import com.sanshuo.newstationequipment.health_equipment.activity.MainActivity&#10;import com.sanshuo.newstationequipment.health_equipment.components.BackButtonView&#10;import com.sanshuo.newstationequipment.health_equipment.components.MaterialButton&#10;import com.sanshuo.newstationequipment.health_equipment.components.SetSportPlanPlaceHoldeView&#10;import com.sanshuo.newstationequipment.health_equipment.components.SetStartExercisingPlaceHolderView&#10;import com.sanshuo.newstationequipment.health_equipment.components.StatusBar&#10;import com.sanshuo.newstationequipment.health_equipment.components.cresteSportsPlanView&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.SportPlansType&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.SportsPlanViewModel&#10;import com.sanshuo.newstationequipment.health_equipment.viewmodel.StartExercisViewModel&#10;import com.sanshuo.newstationequipment.rhythm.components.ElectricCylinderHomeFunctionItem&#10;import com.sanshuo.newstationequipment.utils.ToneGeneratorUtils&#10;import kotlinx.coroutines.Dispatchers&#10;import kotlinx.coroutines.launch&#10;&#10;/**&#10; * 电缸设备的activity&#10; */&#10;class ElectricCylinderActivity : BaseAppActivity() {&#10;    val viewModel by lazy { ViewModelProvider(this)[ElectricCylinderViewModel::class.java] }&#10;    private var refreshData by mutableStateOf(false)&#10;    private val sportsPlanViewModel by lazy { ViewModelProvider(this)[SportsPlanViewModel::class.java] }&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContent {&#10;            rememberSystemUiController().setStatusBarColor(Color.Transparent)&#10;            rememberSystemUiController().isStatusBarVisible = false&#10;            Box(modifier = Modifier) { InfoView() }&#10;            // 加载弹框数据&#10;            loadAlertViewAction()&#10;        }&#10;    }&#10;&#10;    // 改变当前现实的view&#10;    private fun changeView(&#10;        type: ElectricCylinderModelType.ElectricCylinderModelTypeEnum&#10;    ) {&#10;        when (type) {&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumBiaozhun -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeBiaozhun.type&#10;                    )&#10;                )&#10;            }&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumDengzu -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeDengzu.type&#10;                    )&#10;                )&#10;            }&#10;            ElectricCylinderModelType.ElectricCylinderModelTypeEnum.ElectricCylinderModelTypeEnumDengsu -&gt; {&#10;                startActivity(&#10;                    Intent(&#10;                        this,&#10;                        ElectricCylinderSportActivity::class.java&#10;                    ).putExtra(&#10;                        &quot;mode&quot;,&#10;                        com.sanshuo.newstationequipment.serialportcommunication.electricCylinder.ElectricCylinderModelType.ElectricCylinderModelTypeDengsu.type&#10;                    )&#10;                )&#10;            }&#10;            else -&gt; { /* 预留扩展 */ }&#10;        }&#10;    }&#10;&#10;    // 抽取解析 typeMenu 的函数&#10;    private fun parseTypeMenu(menu: String?): List&lt;Int&gt; {&#10;        if (menu.isNullOrBlank()) return emptyList()&#10;        return menu.split(',')&#10;            .map { it.trim() }&#10;            .filter { it.isNotEmpty() }&#10;            .mapNotNull { code -&gt;&#10;                when (code) {&#10;                    &quot;1&quot; -&gt; 0&#10;                    &quot;2&quot; -&gt; 1&#10;                    &quot;3&quot; -&gt; 2&#10;                    else -&gt; null&#10;                }&#10;            }&#10;            .distinct() // 去重&#10;            .filter { it in ElectricCylinderConfig.electricCylinderTypeList.indices } // 最终安全过滤&#10;    }&#10;&#10;    // 主页&#10;    @Composable&#10;    private fun InfoView() {&#10;        Box {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxHeight()&#10;                    .fillMaxWidth()&#10;                    .paint(&#10;                        painter = painterResource(id = R.mipmap.ic_main_bg),&#10;                        contentScale = ContentScale.FillBounds&#10;                    )&#10;            ) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(201.convertSize())&#10;                        .paint(&#10;                            painter = painterResource(id = R.mipmap.ic_main_people_info),&#10;                            contentScale = ContentScale.FillWidth&#10;                        )&#10;                ) {&#10;                    StatusBar(Color.Black)&#10;                    UserInfos(&#10;                        vm = vm,&#10;                        activity = this@ElectricCylinderActivity,&#10;                        refreshData = refreshData&#10;                    )&#10;                }&#10;                // 根据 typeMenu 动态展示按钮&#10;                val typeMenu by viewModel.typeMenu&#10;                val visibleIndices = remember(typeMenu) { parseTypeMenu(typeMenu) }&#10;                if (visibleIndices.isNotEmpty()) {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .align(Alignment.CenterHorizontally)&#10;                    ) {&#10;                        LazyHorizontalGrid(&#10;                            modifier = Modifier&#10;                                .align(Alignment.Center)&#10;                                .padding(top = 67.convertSize())&#10;                                .height(268.convertSize()),&#10;                            horizontalArrangement = Arrangement.spacedBy(25.convertSize()),&#10;                            rows = GridCells.Fixed(1),&#10;                            content = {&#10;                                items(visibleIndices.size) { idx -&gt;&#10;                                    val actualIndex = visibleIndices[idx]&#10;                                    ElectricCylinderHomeFunctionItem(&#10;                                        type = ElectricCylinderConfig.electricCylinderTypeList[actualIndex],&#10;                                        modifier = Modifier&#10;                                            .width(217.convertSize())&#10;                                            .height(268.convertSize()),&#10;                                    ) {&#10;                                        changeView(ElectricCylinderConfig.electricCylinderTypeList[actualIndex])&#10;                                        viewModel.electricCylinderModelType.postValue(&#10;                                            ElectricCylinderConfig.electricCylinderTypeList[actualIndex]&#10;                                        )&#10;                                    }&#10;                                }&#10;                            }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;            MaterialButton(&#10;                type = &quot;normal&quot;,&#10;                text = stringResource(id = R.string.view_training_plan),&#10;                modifier = Modifier&#10;                    .padding(bottom = 33.convertSize())&#10;                    .width(243.convertSize())&#10;                    .height(64.convertSize())&#10;                    .align(Alignment.BottomCenter),&#10;                clickAction = {&#10;                    refreshData = !refreshData&#10;                    ToneGeneratorUtils.getInstance().playDi()&#10;                    if (sportsPlanViewModel.planList.value.isNullOrEmpty()) {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypePlaceHolder)&#10;                    } else {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNormal)&#10;                    }&#10;                }&#10;            )&#10;            BackButtonView(&#10;                modifier = Modifier&#10;                    .align(Alignment.BottomStart)&#10;                    .padding(start = 32.convertSize(), bottom = 32.convertSize())&#10;                    .clickable(&#10;                        interactionSource = remember { MutableInteractionSource() },&#10;                        indication = null,&#10;                    ) {&#10;                        ToneGeneratorUtils.getInstance().playDi()&#10;                        startActivity(Intent(this@ElectricCylinderActivity, MainActivity::class.java))&#10;                        finish()&#10;                    }&#10;            )&#10;        }&#10;    }&#10;&#10;    @Composable&#10;    private fun loadAlertViewAction() {&#10;        LaunchedEffect(key1 = refreshData) {&#10;            lifecycleScope.launch(Dispatchers.IO) {&#10;                sportsPlanViewModel.getSportPlanData(vm)&#10;            }&#10;        }&#10;        when (val type = sportsPlanViewModel.type.observeAsState().value) {&#10;            SportPlansType.SportPlansTypeNormal -&gt; {&#10;                cresteSportsPlanView(sportsPlanViewModel)&#10;            }&#10;            SportPlansType.SportPlansTypeCountdown -&gt; {&#10;                val model = ViewModelProvider(this)[StartExercisViewModel::class.java]&#10;                SetStartExercisingPlaceHolderView(model, sportsPlanViewModel)&#10;                model.startTimer {&#10;                    if (it == 0) {&#10;                        changeView(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        viewModel.electricCylinderModelType.postValue(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                    }&#10;                }&#10;            }&#10;            SportPlansType.SportPlansTypePlaceHolder -&gt; {&#10;                SetSportPlanPlaceHoldeView(&#10;                    clickAction = {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                        if (it == &quot;normal&quot;) {&#10;                            changeView(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                            viewModel.electricCylinderModelType.postValue(ElectricCylinderConfig.electricCylinderTypeList[0])&#10;                        }&#10;                    },&#10;                    backAction = {&#10;                        sportsPlanViewModel.type.postValue(SportPlansType.SportPlansTypeNone)&#10;                    }&#10;                )&#10;            }&#10;            else -&gt; { /* 无需要显示的弹框 */ }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>